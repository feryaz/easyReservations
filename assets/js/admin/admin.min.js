(function(b,c,a){b(function(){b(".er-item-reorder-nav").find(".er-move-up, .er-move-down").on("click",function(){const i=b(this),d=i.closest("tr");i.focus();const h=i.is(".er-move-up"),g=i.is(".er-move-down");if(h){const f=d.prev("tr");if(f&&f.length){f.before(d);a.a11y.speak(c.i18n_moved_up)}}else{if(g){const e=d.next("tr");if(e&&e.length){e.after(d);a.a11y.speak(c.i18n_moved_down)}}}i.focus();i.closest("table").trigger("updateMoveButtons")});b(document.body).on("er_add_error_tip",function(g,d,f){const h=d.position();if(d.parent().find(".er_error_tip").length===0){d.after('<div class="er_error_tip '+f+'">'+er_admin_params[f]+"</div>");d.parent().find(".er_error_tip").css("left",h.left+d.width()-(d.width()/2)-(b(".er_error_tip").width()/2)).css("top",h.top+d.height()).fadeIn("100")}}).on("er_remove_error_tip",function(g,d,f){d.parent().find(".er_error_tip."+f).fadeOut("100",function(){b(this).remove()})}).on("click",function(){b(".er_error_tip").fadeOut("100",function(){b(this).remove()})}).on("blur",".er_input_decimal[type=text], .er_input_price[type=text], .er_input_country_iso[type=text]",function(){b(".er_error_tip").fadeOut("100",function(){b(this).remove()})}).on("change",".er_input_price[type=text], .er_input_decimal[type=text], .er-order-totals #refund_amount[type=text]",function(){let decimailPoint=er_admin_params.decimal_point;if(b(this).is(".er_input_price")||b(this).is("#refund_amount")){decimailPoint=er_admin_params.mon_decimal_point}const f=new RegExp("[^-0-9%\\"+decimailPoint+"]+","gi");const e=new RegExp("\\"+decimailPoint+"+","gi");const g=b(this).val();const d=g.replace(f,"").replace(e,decimailPoint);if(g!==d){b(this).val(d)}}).on("keyup",".er_input_price[type=text], .er_input_decimal[type=text], .er_input_country_iso[type=text], .er-order-totals #refund_amount[type=text]",function(){let regex,error,decimalRegex,checkDecimalNumbers=false;if(b(this).is(".er_input_price")||b(this).is("#refund_amount")){checkDecimalNumbers=true;regex=new RegExp("[^-0-9%\\"+er_admin_params.mon_decimal_point+"]+","gi");decimalRegex=new RegExp("[^\\"+er_admin_params.mon_decimal_point+"]","gi");error="i18n_mon_decimal_error"}else{if(b(this).is(".er_input_country_iso")){regex=new RegExp("([^A-Z])+|(.){3,}","im");error="i18n_country_iso_error"}else{checkDecimalNumbers=true;regex=new RegExp("[^-0-9%\\"+er_admin_params.decimal_point+"]+","gi");decimalRegex=new RegExp("[^\\"+er_admin_params.decimal_point+"]","gi");error="i18n_decimal_error"}}const d=b(this).val();let fixedValue=d.replace(regex,"");if(checkDecimalNumbers&&1<fixedValue.replace(decimalRegex,"").length){fixedValue=fixedValue.replace(decimalRegex,"")}if(d!==fixedValue){b(document.body).triggerHandler("er_add_error_tip",[b(this),error])}else{b(document.body).triggerHandler("er_remove_error_tip",[b(this),error])}}).on("init_tooltips",function(){b(".tips, .help_tip, .easyreservations-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200});b(".column-er_actions .er-action-button").tipTip({fadeIn:50,fadeOut:50,delay:200});b(".parent-tips").each(function(){b(this).closest("a, th").attr("data-tip",b(this).data("tip")).tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}).css("cursor","help")})});b(document.body).trigger("init_tooltips");b(".er_input_table.sortable tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:true,helper:"clone",opacity:0.65,placeholder:"er-metabox-sortable-placeholder",start:function(d,e){e.item.css("background-color","#f6f6f6")},stop:function(d,e){e.item.removeAttr("style")}});b(".er_input_table.sortable tbody input").on("click",function(){b(this).focus()});b(".er_input_table .remove_rows").click(function(){const d=b(this).closest(".er_input_table").find("tbody").find("tr.current");if(d.length>0){d.each(function(){b(this).remove()})}return false});b(".er-item-reorder-nav").closest("table").on("updateMoveButtons",function(){const e=b(this),d=e.find("tbody tr:last"),f=e.find("tbody tr:first");e.find(".er-item-reorder-nav .er-move-disabled").removeClass("er-move-disabled").attr({tabindex:"0","aria-hidden":"false"});f.find(".er-item-reorder-nav .er-move-up").addClass("er-move-disabled").attr({tabindex:"-1","aria-hidden":"true"});d.find(".er-item-reorder-nav .er-move-down").addClass("er-move-disabled").attr({tabindex:"-1","aria-hidden":"true"})});b(".er-item-reorder-nav").closest("table").trigger("updateMoveButtons");let controlled=false,shifted=false,hasFocus=false;b(document.body).bind("keyup keydown",function(d){shifted=d.shiftKey;controlled=d.ctrlKey||d.metaKey});b(".er_input_table").on("focus click","input, select",function(f){const d=b(this).closest("table, tbody");const g=b(this).closest("tr");if((f.type==="focus"&&hasFocus!==g.index())||(f.type==="click"&&b(this).is(":focus"))){hasFocus=g.index();if(!shifted&&!controlled){b("tr",d).removeClass("current").removeClass("last_selected");g.addClass("current").addClass("last_selected")}else{if(shifted){b("tr",d).removeClass("current");g.addClass("selected_now").addClass("current");if(b("tr.last_selected",d).length>0){if(g.index()>b("tr.last_selected",d).index()){b("tr",d).slice(b("tr.last_selected",d).index(),g.index()).addClass("current")}else{b("tr",d).slice(g.index(),b("tr.last_selected",d).index()+1).addClass("current")}}b("tr",d).removeClass("last_selected");g.addClass("last_selected")}else{b("tr",d).removeClass("last_selected");if(controlled&&b(this).closest("tr").is(".current")){g.removeClass("current")}else{g.addClass("current").addClass("last_selected")}}}b("tr",d).removeClass("selected_now")}}).on("blur","input",function(){hasFocus=false});b("table.widefat tbody tr").each(function(){if(b("table.widefat tbody tr").index(this)%2===0){b(this).addClass("alternate")}else{b(this).removeClass("alternate")}})})})(jQuery,er_admin_params,wp);function generateOptions(a,d){let value="";if(typeof a==="string"){const b=a.split("-");for(let k=b[0];k<=b[1];k++){const c=d&&d===k?'selected="selected"':"";value+='<option value="'+k+'" '+c+">"+k+"</option>"}}else{jQuery.each(a,function(f,e){const g=d&&d===f?'selected="selected"':"";value+='<option value="'+f+'"'+g+">"+e+"</option>"})}return value};