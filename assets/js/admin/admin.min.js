(function(b,c,a){b(function(){b(".er-item-reorder-nav").find(".er-move-up, .er-move-down").on("click",function(){var l=b(this),g=l.closest("tr");l.focus();var k=l.is(".er-move-up"),j=l.is(".er-move-down");if(k){var i=g.prev("tr");if(i&&i.length){i.before(g);a.a11y.speak(c.i18n_moved_up)}}else{if(j){var h=g.next("tr");if(h&&h.length){h.after(g);a.a11y.speak(c.i18n_moved_down)}}}l.focus();l.closest("table").trigger("updateMoveButtons")});b(document.body).on("er_add_error_tip",function(i,h,g){var j=h.position();if(h.parent().find(".er_error_tip").length===0){h.after('<div class="er_error_tip '+g+'">'+er_admin_params[g]+"</div>");h.parent().find(".er_error_tip").css("left",j.left+h.width()-(h.width()/2)-(b(".er_error_tip").width()/2)).css("top",j.top+h.height()).fadeIn("100")}}).on("er_remove_error_tip",function(i,h,g){h.parent().find(".er_error_tip."+g).fadeOut("100",function(){b(this).remove()})}).on("click",function(){b(".er_error_tip").fadeOut("100",function(){b(this).remove()})}).on("blur",".er_input_decimal[type=text], .er_input_price[type=text], .er_input_country_iso[type=text]",function(){b(".er_error_tip").fadeOut("100",function(){b(this).remove()})}).on("change",".er_input_price[type=text], .er_input_decimal[type=text], .er-order-totals #refund_amount[type=text]",function(){var j,i,h=er_admin_params.decimal_point;if(b(this).is(".er_input_price")||b(this).is("#refund_amount")){h=er_admin_params.mon_decimal_point}j=new RegExp("[^-0-9%\\"+h+"]+","gi");i=new RegExp("\\"+h+"+","gi");var k=b(this).val();var g=k.replace(j,"").replace(i,h);if(k!==g){b(this).val(g)}}).on("keyup",".er_input_price[type=text], .er_input_decimal[type=text], .er_input_country_iso[type=text], .er-order-totals #refund_amount[type=text]",function(){var j,h,i;var l=false;if(b(this).is(".er_input_price")||b(this).is("#refund_amount")){l=true;j=new RegExp("[^-0-9%\\"+er_admin_params.mon_decimal_point+"]+","gi");i=new RegExp("[^\\"+er_admin_params.mon_decimal_point+"]","gi");h="i18n_mon_decimal_error"}else{if(b(this).is(".er_input_country_iso")){j=new RegExp("([^A-Z])+|(.){3,}","im");h="i18n_country_iso_error"}else{l=true;j=new RegExp("[^-0-9%\\"+er_admin_params.decimal_point+"]+","gi");i=new RegExp("[^\\"+er_admin_params.decimal_point+"]","gi");h="i18n_decimal_error"}}var k=b(this).val();var g=k.replace(j,"");if(l&&1<g.replace(i,"").length){g=g.replace(i,"")}if(k!==g){b(document.body).triggerHandler("er_add_error_tip",[b(this),h])}else{b(document.body).triggerHandler("er_remove_error_tip",[b(this),h])}}).on("init_tooltips",function(){b(".tips, .help_tip, .easyreservations-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200});b(".column-er_actions .er-action-button").tipTip({fadeIn:50,fadeOut:50,delay:200});b(".parent-tips").each(function(){b(this).closest("a, th").attr("data-tip",b(this).data("tip")).tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}).css("cursor","help")})});b(document.body).trigger("init_tooltips");b(".er_input_table.sortable tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:true,helper:"clone",opacity:0.65,placeholder:"er-metabox-sortable-placeholder",start:function(g,h){h.item.css("background-color","#f6f6f6")},stop:function(g,h){h.item.removeAttr("style")}});b(".er_input_table.sortable tbody input").on("click",function(){b(this).focus()});b(".er_input_table .remove_rows").click(function(){var g=b(this).closest(".er_input_table").find("tbody");if(g.find("tr.current").length>0){var h=g.find("tr.current");h.each(function(){b(this).remove()})}return false});b(".er-item-reorder-nav").closest("table").on("updateMoveButtons",function(){var h=b(this),g=b(this).find("tbody tr:last"),i=b(this).find("tbody tr:first");h.find(".er-item-reorder-nav .er-move-disabled").removeClass("er-move-disabled").attr({tabindex:"0","aria-hidden":"false"});i.find(".er-item-reorder-nav .er-move-up").addClass("er-move-disabled").attr({tabindex:"-1","aria-hidden":"true"});g.find(".er-item-reorder-nav .er-move-down").addClass("er-move-disabled").attr({tabindex:"-1","aria-hidden":"true"})});b(".er-item-reorder-nav").closest("table").trigger("updateMoveButtons");var d=false;var e=false;var f=false;b(document.body).bind("keyup keydown",function(g){e=g.shiftKey;d=g.ctrlKey||g.metaKey});b(".er_input_table").on("focus click","input, select",function(h){var g=b(this).closest("table, tbody");var i=b(this).closest("tr");if((h.type==="focus"&&f!==i.index())||(h.type==="click"&&b(this).is(":focus"))){f=i.index();if(!e&&!d){b("tr",g).removeClass("current").removeClass("last_selected");i.addClass("current").addClass("last_selected")}else{if(e){b("tr",g).removeClass("current");i.addClass("selected_now").addClass("current");if(b("tr.last_selected",g).length>0){if(i.index()>b("tr.last_selected",g).index()){b("tr",g).slice(b("tr.last_selected",g).index(),i.index()).addClass("current")}else{b("tr",g).slice(i.index(),b("tr.last_selected",g).index()+1).addClass("current")}}b("tr",g).removeClass("last_selected");i.addClass("last_selected")}else{b("tr",g).removeClass("last_selected");if(d&&b(this).closest("tr").is(".current")){i.removeClass("current")}else{i.addClass("current").addClass("last_selected")}}}b("tr",g).removeClass("selected_now")}}).on("blur","input",function(){f=false});b("table.widefat tbody tr").each(function(){var g=b("table.widefat tbody tr").index(this);if(g%2===0){b(this).addClass("alternate")}else{b(this).removeClass("alternate")}})})})(jQuery,er_admin_params,wp);function generateOptions(b,f){var e="";if(typeof b=="string"){var c=b.split("-");for(var a=c[0];a<=c[1];a++){var d="";if(f&&f==a){d='selected="selected"'}e+='<option value="'+a+'" '+d+">"+a+"</option>"}}else{jQuery.each(b,function(h,g){var i="";if(f&&f==h){i=' selected="selected"'}e+='<option value="'+h+'"'+i+">"+g+"</option>"})}return e};