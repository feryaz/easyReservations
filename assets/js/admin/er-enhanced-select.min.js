jQuery(function(c){function a(){return{language:{errorLoading:function(){return er_enhanced_select_params.i18n_searching},inputTooLong:function(d){const e=d.input.length-d.maximum;if(1===e){return er_enhanced_select_params.i18n_input_too_long_1}return er_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(d){const e=d.minimum-d.input.length;if(1===e){return er_enhanced_select_params.i18n_input_too_short_1}return er_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return er_enhanced_select_params.i18n_load_more},maximumSelected:function(d){if(d.maximum===1){return er_enhanced_select_params.i18n_selection_too_long_1}return er_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",d.maximum)},noResults:function(){return er_enhanced_select_params.i18n_no_matches},searching:function(){return er_enhanced_select_params.i18n_searching}}}}try{c(document.body).on("er-enhanced-select-init",function(){c(":input.er-enhanced-select, :input.chosen_select").filter(":not(.enhanced)").each(function(){const d=c.extend({minimumResultsForSearch:10,allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder")},a());c(this).selectWoo(d).addClass("enhanced")});c(":input.er-enhanced-select-nostd, :input.chosen_select_nostd").filter(":not(.enhanced)").each(function(){const d=c.extend({minimumResultsForSearch:10,allowClear:true,placeholder:c(this).data("placeholder")},a());c(this).selectWoo(d).addClass("enhanced")});c(":input.er-resource-search").filter(":not(.enhanced)").each(function(){const f=c.extend({allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):"3",escapeMarkup:function(g){return g},ajax:{url:er_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(g){return{term:g.term,action:c(this).data("action")||"woocommerce_json_search_products_and_variations",security:er_enhanced_select_params.search_resources_nonce,exclude:c(this).data("exclude"),exclude_type:c(this).data("exclude_type"),include:c(this).data("include"),limit:c(this).data("limit"),display_stock:c(this).data("display_stock")}},processResults:function(h){const g=[];if(h){c.each(h,function(j,i){g.push({id:j,text:i})})}return{results:g}},cache:true}},a());c(this).selectWoo(f).addClass("enhanced");if(c(this).data("sortable")){const e=c(this),d=e.next(".select2-container").find("ul.select2-selection__rendered");d.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:true,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){c(d.find(".select2-selection__choice").get().reverse()).each(function(){const g=e.find('option[value="'+c(this).data("data").id+'"]')[0];e.prepend(g)})}})}else{if(c(this).prop("multiple")){c(this).on("change",function(){const g=c(this).children();g.sort(function(i,h){const k=i.text.toLowerCase();const j=h.text.toLowerCase();if(k>j){return 1}if(k<j){return -1}return 0});c(this).html(g)})}}});c(":input.er-customer-search").filter(":not(.enhanced)").each(function(){const f=c.extend({allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):"1",escapeMarkup:function(g){return g},ajax:{url:er_enhanced_select_params.ajax_url,dataType:"json",delay:1000,data:function(g){return{term:g.term,action:"easyreservations_json_search_customers",security:er_enhanced_select_params.search_customers_nonce,exclude:c(this).data("exclude")}},processResults:function(h){const g=[];if(h){c.each(h,function(j,i){g.push({id:j,text:i})})}return{results:g}},cache:true}},a());c(this).selectWoo(f).addClass("enhanced");if(c(this).data("sortable")){const e=c(this),d=e.next(".select2-container").find("ul.select2-selection__rendered");d.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:true,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){c(d.find(".select2-selection__choice").get().reverse()).each(function(){const g=e.find('option[value="'+c(this).data("data").id+'"]')[0];e.prepend(g)})}})}});c(":input.er-order-search").filter(":not(.enhanced)").each(function(){const d=c.extend({allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):1,escapeMarkup:function(e){return e},ajax:{url:er_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(e){return{term:e.term,action:"easyreservations_json_search_order",security:er_enhanced_select_params.search_order_nonce}},processResults:function(f){const e=[];if(f){c.each(f,function(h,g){e.push({id:h,text:g})})}return{results:e}},cache:true}},a());c(this).selectWoo(d).addClass("enhanced")})}).on("er_backbone_modal_before_remove",function(){c(".er-enhanced-select, :input.er-resource-search, :input.er-customer-search").filter(".select2-hidden-accessible").selectWoo("close")}).trigger("er-enhanced-select-init");c("html").on("click",function(d){if(this===d.target){c(".er-enhanced-select, :input.er-resource-search, :input.er-customer-search").filter(".select2-hidden-accessible").selectWoo("close")}})}catch(b){window.console.log(b)}});