(function(b,a){b(".colorpick").iris({change:function(c,d){b(this).parent().find(".colorpickpreview").css({backgroundColor:d.color.toString()})},hide:true,border:true}).on("click focus",function(c){c.stopPropagation();b(".iris-picker").hide();b(this).closest("td").find(".iris-picker").show();b(this).data("original-value",b(this).val())}).on("change",function(){if(b(this).is(".iris-error")){var c=b(this).data("original-value");if(c.match(/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/)){b(this).val(b(this).data("original-value")).change()}else{b(this).val("").change()}}});b("body").on("click",function(){b(".iris-picker").hide()});b("table.er_gateways tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td.sort",scrollSensitivity:40,helper:function(c,d){d.children().each(function(){b(this).width(b(this).width())});d.css("left","0");return d},start:function(c,d){d.item.css("background-color","#f6f6f6")},stop:function(c,d){d.item.removeAttr("style");d.item.trigger("updateMoveButtons")}});b("code[data-tag]").on("click",function(){var d=b("#"+b(this).data("target"));var e=d[0].selectionStart;var c=d.val();var f="["+b(this).data("tag")+"]";d.val(c.substring(0,e)+f+c.substring(e))})})(jQuery,wp);