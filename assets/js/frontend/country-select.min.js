jQuery(function(f){if(typeof er_country_select_params==="undefined"){return false}if(f().selectWoo){var d=function(){return{language:{errorLoading:function(){return er_country_select_params.i18n_searching},inputTooLong:function(g){var h=g.input.length-g.maximum;if(1===h){return er_country_select_params.i18n_input_too_long_1}return er_country_select_params.i18n_input_too_long_n.replace("%qty%",h)},inputTooShort:function(g){var h=g.minimum-g.input.length;if(1===h){return er_country_select_params.i18n_input_too_short_1}return er_country_select_params.i18n_input_too_short_n.replace("%qty%",h)},loadingMore:function(){return er_country_select_params.i18n_load_more},maximumSelected:function(g){if(g.maximum===1){return er_country_select_params.i18n_selection_too_long_1}return er_country_select_params.i18n_selection_too_long_n.replace("%qty%",g.maximum)},noResults:function(){return er_country_select_params.i18n_no_matches},searching:function(){return er_country_select_params.i18n_searching}}}};var c=function(){f("select.country_select:visible, select.state_select:visible").each(function(){var g=f.extend({placeholder:f(this).attr("data-placeholder")||f(this).attr("placeholder")||"",width:"100%"},d());f(this).on("select2:select",function(){f(this).focus()}).selectWoo(g)})};c();f(document.body).on("country_to_state_changed",function(){c()})}var b=er_country_select_params.countries.replace(/&quot;/g,'"'),a=JSON.parse(b),e=".easyreservations-address-fields";f(document.body).on("change refresh","select.country_select, input.country_select",function(){var m=f(this).closest(e);if(!m.length){m=f(this).closest(".form-row").parent()}var h=f(this).val(),o=m.find("#state"),j=o.closest(".form-row"),l=o.attr("name"),n=o.attr("id"),p=o.attr("data-input-classes"),r=o.val(),q=o.attr("placeholder")||o.attr("data-placeholder")||"",i;if(a[h]){if(f.isEmptyObject(a[h])){i=f('<input type="hidden" />').prop("id",n).prop("name",l).prop("placeholder",q).attr("data-input-classes",p).addClass("hidden "+p);j.hide().find(".select2-container").remove();o.replaceWith(i);f(document.body).trigger("country_to_state_changed",[h,m])}else{var g=a[h],k=f('<option value=""></option>').text(er_country_select_params.i18n_select_state_text);if(!q){q=er_country_select_params.i18n_select_state_text}j.show();if(o.is("input")){i=f("<select></select>").prop("id",n).prop("name",l).data("placeholder",q).attr("data-input-classes",p).addClass("state_select "+p);o.replaceWith(i);o=m.find("#state")}o.empty().append(k);f.each(g,function(s){var t=f("<option></option>").prop("value",s).text(g[s]);o.append(t)});o.val(r).trigger("change");f(document.body).trigger("country_to_state_changed",[h,m])}}else{if(o.is('select, input[type="hidden"]')){i=f('<input type="text" />').prop("id",n).prop("name",l).prop("placeholder",q).attr("data-input-classes",p).addClass("input-text  "+p);j.show().find(".select2-container").remove();o.replaceWith(i);f(document.body).trigger("country_to_state_changed",[h,m])}}f(document.body).trigger("er_country_to_state_changing",[h,m])});f(document.body).on("er_address_i18n_ready",function(){f(e).each(function(){var g=f(this).find("#country");if(0===g.length||0===g.val().length){return}g.trigger("refresh")})})});